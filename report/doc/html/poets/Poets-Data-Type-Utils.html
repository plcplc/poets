<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--Rendered using the Haskell Html Library v0.2-->
<HTML
><HEAD
><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"
><TITLE
>Poets.Data.Type.Utils</TITLE
><LINK HREF="haddock.css" REL="stylesheet" TYPE="text/css"
><SCRIPT SRC="haddock-util.js" TYPE="text/javascript"
></SCRIPT
><SCRIPT TYPE="text/javascript"
>window.onload = function () {setSynopsis("mini_Poets-Data-Type-Utils.html")};</SCRIPT
></HEAD
><BODY
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="topbar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><IMG SRC="haskell_icon.gif" WIDTH="16" HEIGHT="16" ALT=" "
></TD
><TD CLASS="title"
>poets-0.1: The POETS project</TD
><TD CLASS="topbut"
><A HREF="index.html"
>Contents</A
></TD
><TD CLASS="topbut"
><A HREF="doc-index.html"
>Index</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="modulebar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><FONT SIZE="6"
>Poets.Data.Type.Utils</FONT
></TD
><TD ALIGN="right"
><TABLE CLASS="narrow" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="infohead"
>Portability</TD
><TD CLASS="infoval"
>unknown</TD
></TR
><TR
><TD CLASS="infohead"
>Stability</TD
><TD CLASS="infoval"
>unknown</TD
></TR
><TR
><TD CLASS="infohead"
>Maintainer</TD
><TD CLASS="infoval"
>Tom Hvitved, Patrick Bahr, and Morten Ib Nielsen</TD
></TR
></TABLE
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Description</TD
></TR
><TR
><TD CLASS="doc"
>This module contains utility functions for the AST defined in
 Poets.Data.Type.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Synopsis</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="decl"
><A HREF="#v%3AcheckSubType"
>checkSubType</A
> :: (<A HREF="Poets-Data-ALaCarte-Algebras-Equality.html#t%3AFunctorEq"
>FunctorEq</A
> t, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m, <A HREF="Poets-Data-Type.html#t%3ATypeConstant"
>TypeConstant</A
> <A HREF="Poets-Data-ALaCarte.html#t%3A%3A%3C%3A"
>:&lt;:</A
> t, <A HREF="Poets-Data-ALaCarte-Algebras-Render.html#t%3ARender"
>Render</A
> t) =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> (<A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t) -&gt; <A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t -&gt; <A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AremRecordInfos"
>remRecordInfos</A
> ::  <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; [<A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
>] -&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AgetTypeFields"
>getTypeFields</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m (<A HREF="Poets-Data-Type.html#t%3AFieldEnv"
>FieldEnv</A
> e)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AgetFieldNames"
>getFieldNames</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/containers-0.3.0.0/Data-Set.html#t%3ASet"
>Set</A
> <A HREF="Poets-Data-Value.html#t%3AFieldName"
>FieldName</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AgetTypeField"
>getTypeField</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3AFieldName"
>FieldName</A
> -&gt; m (<A HREF="Poets-Data-Type.html#t%3AField"
>Field</A
> e)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AgetValidatingRuleSet"
>getValidatingRuleSet</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Data-Maybe.html#t%3AMaybe"
>Maybe</A
> <A HREF="Poets-Data-Type.html#t%3AValidatingRuleSet"
>ValidatingRuleSet</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AgetSubTypes"
>getSubTypes</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3APOETSRecordEnv"
>POETSRecordEnv</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/containers-0.3.0.0/Data-Set.html#t%3ASet"
>Set</A
> <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AgetSuperTypes%27"
>getSuperTypes'</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m [<A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
>]</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AgetSuperTypes"
>getSuperTypes</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/containers-0.3.0.0/Data-Set.html#t%3ASet"
>Set</A
> <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AisSubType"
>isSubType</A
> :: (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Data-Eq.html#t%3AEq"
>Eq</A
> e) =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Bool.html#t%3ABool"
>Bool</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AisAbstract"
>isAbstract</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Bool.html#t%3ABool"
>Bool</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AfindCommonSuperType"
>findCommonSuperType</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3APOETSRecordEnv"
>POETSRecordEnv</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AundefinedRecord"
>undefinedRecord</A
> :: (<A HREF="Poets-Data-Type.html#t%3ATypeConstant"
>TypeConstant</A
> <A HREF="Poets-Data-ALaCarte.html#t%3A%3A%3C%3A"
>:&lt;:</A
> f, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Data-Foldable.html#t%3AFoldable"
>Foldable</A
> f) =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> g -&gt; <A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> f -&gt; <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Data-Maybe.html#t%3AMaybe"
>Maybe</A
> <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AvalidateRecordEnv"
>validateRecordEnv</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3APOETSRecordEnv"
>POETSRecordEnv</A
> -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AuniqueRecordNames"
>uniqueRecordNames</A
> :: (<A HREF="Poets-Data-Type.html#t%3ATypeConstant"
>TypeConstant</A
> <A HREF="Poets-Data-ALaCarte.html#t%3A%3A%3C%3A"
>:&lt;:</A
> t, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m) =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> (<A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t) -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AsuperRecordIsDefined"
>superRecordIsDefined</A
> :: (<A HREF="Poets-Data-Type.html#t%3ATypeConstant"
>TypeConstant</A
> <A HREF="Poets-Data-ALaCarte.html#t%3A%3A%3C%3A"
>:&lt;:</A
> t, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m) =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> (<A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> f) -&gt; <A HREF="Poets-Data-Type.html#t%3ARecord"
>Record</A
> (<A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t) -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AreferencedRecordsDefined"
>referencedRecordsDefined</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3APOETSRecordEnv"
>POETSRecordEnv</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; <A HREF="Poets-Data-Type.html#t%3AField"
>Field</A
> <A HREF="Poets-Data-Type.html#t%3APOETSType"
>POETSType</A
> -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AaCyclic"
>aCyclic</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AuniqueFieldNames"
>uniqueFieldNames</A
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Type.html#t%3ARecord"
>Record</A
> e -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Documentation</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:checkSubType"
><A NAME="v%3AcheckSubType"
></A
></A
><B
>checkSubType</B
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: (<A HREF="Poets-Data-ALaCarte-Algebras-Equality.html#t%3AFunctorEq"
>FunctorEq</A
> t, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m, <A HREF="Poets-Data-Type.html#t%3ATypeConstant"
>TypeConstant</A
> <A HREF="Poets-Data-ALaCarte.html#t%3A%3A%3C%3A"
>:&lt;:</A
> t, <A HREF="Poets-Data-ALaCarte-Algebras-Render.html#t%3ARender"
>Render</A
> t)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> (<A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t)</TD
><TD CLASS="rdoc"
><PRE
>tp1</PRE
></TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t</TD
><TD CLASS="rdoc"
><PRE
>tp2</PRE
></TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Check that <TT
>tp1</TT
> is a sub type of <TT
>tp2</TT
>. If both are record types,
 this amounts to record sub typing. Otherwise it amounts to equality of
 <TT
>tp1</TT
> and <TT
>tp2</TT
>.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:remRecordInfos"
><A NAME="v%3AremRecordInfos"
></A
></A
><B
>remRecordInfos</B
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: </TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
><TD CLASS="rdoc"
>A record name.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; [<A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
>]</TD
><TD CLASS="rdoc"
>The new record environment.  
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>This function removes the given record name from the record environment.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:getTypeFields"
><A NAME="v%3AgetTypeFields"
></A
></A
><B
>getTypeFields</B
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
><TD CLASS="rdoc"
>A record name.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
><TD CLASS="rdoc"
>The field record environment for the record of the given name or an error message.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m (<A HREF="Poets-Data-Type.html#t%3AFieldEnv"
>FieldEnv</A
> e)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>The function <TT
><A HREF="Poets-Data-Type-Utils.html#v%3AgetTypeFields"
>getTypeFields</A
></TT
> <EM
>requires</EM
> that type definitions are acyclic.
 Otherwise it might loop indefinitely
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:getFieldNames"
><A NAME="v%3AgetFieldNames"
></A
></A
><B
>getFieldNames</B
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
><TD CLASS="rdoc"
>A record name.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/containers-0.3.0.0/Data-Set.html#t%3ASet"
>Set</A
> <A HREF="Poets-Data-Value.html#t%3AFieldName"
>FieldName</A
>)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Get the set of field names for the given record type.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:getTypeField"
><A NAME="v%3AgetTypeField"
></A
></A
><B
>getTypeField</B
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
><TD CLASS="rdoc"
>A record name.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
><TD CLASS="rdoc"
>A field name.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Value.html#t%3AFieldName"
>FieldName</A
></TD
><TD CLASS="rdoc"
>The field with the given field name in the record of the given name.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m (<A HREF="Poets-Data-Type.html#t%3AField"
>Field</A
> e)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>The function <TT
><A HREF="Poets-Data-Type-Utils.html#v%3AgetTypeField"
>getTypeField</A
></TT
> <EM
>requires</EM
> that type definitions are acyclic.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:getValidatingRuleSet"
><A NAME="v%3AgetValidatingRuleSet"
></A
></A
><B
>getValidatingRuleSet</B
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
><TD CLASS="rdoc"
>A record name.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
><TD CLASS="rdoc"
>The validating rule set if any.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Data-Maybe.html#t%3AMaybe"
>Maybe</A
> <A HREF="Poets-Data-Type.html#t%3AValidatingRuleSet"
>ValidatingRuleSet</A
>)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Extract the validating rule set from the record definition in the record
 environment.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:getSubTypes"
><A NAME="v%3AgetSubTypes"
></A
></A
><B
>getSubTypes</B
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3APOETSRecordEnv"
>POETSRecordEnv</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/containers-0.3.0.0/Data-Set.html#t%3ASet"
>Set</A
> <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
>)</TD
></TR
><TR
><TD CLASS="doc"
>Return the set of all subtypes for a given record name
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:getSuperTypes'"
><A NAME="v%3AgetSuperTypes%27"
></A
></A
><B
>getSuperTypes'</B
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m [<A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
>]</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:getSuperTypes"
><A NAME="v%3AgetSuperTypes"
></A
></A
><B
>getSuperTypes</B
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/containers-0.3.0.0/Data-Set.html#t%3ASet"
>Set</A
> <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
>)</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:isSubType"
><A NAME="v%3AisSubType"
></A
></A
><B
>isSubType</B
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: (<A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Data-Eq.html#t%3AEq"
>Eq</A
> e)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
><TD CLASS="rdoc"
>A record name, <TT
>rn1</TT
>.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
><TD CLASS="rdoc"
>A record name, <TT
>rn2</TT
>.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Bool.html#t%3ABool"
>Bool</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>The function <TT
><A HREF="Poets-Data-Type-Utils.html#v%3AisSubType"
>isSubType</A
></TT
> <EM
>requires</EM
> that type definitions are acyclic.
 Otherwise it might loop indefinitely.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:isAbstract"
><A NAME="v%3AisAbstract"
></A
></A
><B
>isAbstract</B
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e</TD
><TD CLASS="rdoc"
>A record name, <TT
>rn1</TT
>.
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Bool.html#t%3ABool"
>Bool</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Check whether a record type is abstract.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:findCommonSuperType"
><A NAME="v%3AfindCommonSuperType"
></A
></A
><B
>findCommonSuperType</B
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3APOETSRecordEnv"
>POETSRecordEnv</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; m <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
></TR
><TR
><TD CLASS="doc"
>Returns the least (wrt. subtyping) common super type of the two specified
 record types (if it exists).
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:undefinedRecord"
><A NAME="v%3AundefinedRecord"
></A
></A
><B
>undefinedRecord</B
> :: (<A HREF="Poets-Data-Type.html#t%3ATypeConstant"
>TypeConstant</A
> <A HREF="Poets-Data-ALaCarte.html#t%3A%3A%3C%3A"
>:&lt;:</A
> f, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Data-Foldable.html#t%3AFoldable"
>Foldable</A
> f) =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> g -&gt; <A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> f -&gt; <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Data-Maybe.html#t%3AMaybe"
>Maybe</A
> <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
></TD
></TR
><TR
><TD CLASS="doc"
>This function checks whether the given type contains a record type
that is not defined in the given record environment. If that is the
case, a witness is returned. 
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:validateRecordEnv"
><A NAME="v%3AvalidateRecordEnv"
></A
></A
><B
>validateRecordEnv</B
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3APOETSRecordEnv"
>POETSRecordEnv</A
> -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="doc"
><P
>Check whether a record environment is well formed. That is:
</P
><P
>1. Record names have global scope - i.e. there can be only one record with
 any given name.
</P
><P
>2. All super type records are defined when extending a record.
</P
><P
>3. There is no cyclic inheritance.
</P
><P
>4. Field names have record scope - i.e. there can be only one field with any
 given name in the transitive closure (wrt. inheritance) of fields for any
 given record. As a consequence children cannot override fields they have
 inherited from their parents.
</P
><P
>5. The record types used in the field of a record definition is defined, and
 it is not a subtype of the defining record (i.e., no infinite data
 structures).
</P
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:uniqueRecordNames"
><A NAME="v%3AuniqueRecordNames"
></A
></A
><B
>uniqueRecordNames</B
> :: (<A HREF="Poets-Data-Type.html#t%3ATypeConstant"
>TypeConstant</A
> <A HREF="Poets-Data-ALaCarte.html#t%3A%3A%3C%3A"
>:&lt;:</A
> t, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m) =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> (<A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t) -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="doc"
>Idea: We discriminate the records based on the record name. If the output
 contains a list that is not a singleton then that corresponds to a record
 with multiple definitions.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:superRecordIsDefined"
><A NAME="v%3AsuperRecordIsDefined"
></A
></A
><B
>superRecordIsDefined</B
> :: (<A HREF="Poets-Data-Type.html#t%3ATypeConstant"
>TypeConstant</A
> <A HREF="Poets-Data-ALaCarte.html#t%3A%3A%3C%3A"
>:&lt;:</A
> t, <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m) =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> (<A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> f) -&gt; <A HREF="Poets-Data-Type.html#t%3ARecord"
>Record</A
> (<A HREF="Poets-Data-ALaCarte.html#t%3ATerm"
>Term</A
> t) -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="doc"
>The function <TT
><A HREF="Poets-Data-Type-Utils.html#v%3AsuperRecordIsDefined"
>superRecordIsDefined</A
></TT
> ensures that the super record of a given
 record is defined in the record environment.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:referencedRecordsDefined"
><A NAME="v%3AreferencedRecordsDefined"
></A
></A
><B
>referencedRecordsDefined</B
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3APOETSRecordEnv"
>POETSRecordEnv</A
> -&gt; <A HREF="Poets-Data-Value.html#t%3ARecordName"
>RecordName</A
> -&gt; <A HREF="Poets-Data-Type.html#t%3AField"
>Field</A
> <A HREF="Poets-Data-Type.html#t%3APOETSType"
>POETSType</A
> -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="doc"
>The function <TT
><A HREF="Poets-Data-Type-Utils.html#v%3AreferencedRecordsDefined"
>referencedRecordsDefined</A
></TT
> ensures that the records
 that are used in field definitions are defined, and that no
 recursive data types can be defined.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:aCyclic"
><A NAME="v%3AaCyclic"
></A
></A
><B
>aCyclic</B
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="doc"
>Idea: An acyclic graph must have at least one leaf node (i.e., node that
 doesn't point to anything). If we remove such a node (and edges pointing to
 the node) the remaining graph must still be acyclic.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:uniqueFieldNames"
><A NAME="v%3AuniqueFieldNames"
></A
></A
><B
>uniqueFieldNames</B
> :: <A HREF="/usr/share/doc/ghc6-doc/html/libraries/base-4.2.0.0/Control-Monad.html#t%3AMonad"
>Monad</A
> m =&gt; <A HREF="Poets-Data-Type.html#t%3ARecordEnv"
>RecordEnv</A
> e -&gt; <A HREF="Poets-Data-Type.html#t%3ARecord"
>Record</A
> e -&gt; m <A HREF="/usr/share/doc/ghc6-doc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t%3A%28%29"
>()</A
></TD
></TR
><TR
><TD CLASS="doc"
>The function <TT
><A HREF="Poets-Data-Type-Utils.html#v%3AuniqueFieldNames"
>uniqueFieldNames</A
></TT
> calls the function <TT
><A HREF="Poets-Data-Type-Utils.html#v%3AgetTypeFields"
>getTypeFields</A
></TT
> and thus
 <EM
>requires</EM
> that type definitions are acyclic.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="botbar"
>Produced by <A HREF="http://www.haskell.org/haddock/"
>Haddock</A
> version 2.6.0</TD
></TR
></TABLE
></BODY
></HTML
>
